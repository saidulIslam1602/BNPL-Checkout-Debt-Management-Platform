{
  "ConnectionStrings": {
    "DefaultConnection": "Server=${SQL_SERVER_HOST};Database=YourCompanyBNPL_Payment;User Id=${SQL_SERVER_USER};Password=${SQL_SERVER_PASSWORD};TrustServerCertificate=true;MultipleActiveResultSets=true;Encrypt=true"
  },
  "Jwt": {
    "Key": "${JWT_SECRET_KEY}",
    "Issuer": "https://api.yourcompany.com",
    "Audience": "https://api.yourcompany.com",
    "ExpiryMinutes": 60
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information",
        "Microsoft.EntityFrameworkCore": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      },
      {
        "Name": "ApplicationInsights",
        "Args": {
          "restrictedToMinimumLevel": "Information",
          "telemetryConverter": "Serilog.Sinks.ApplicationInsights.TelemetryConverters.TraceTelemetryConverter, Serilog.Sinks.ApplicationInsights"
        }
      }
    ]
  },
  "ApplicationInsights": {
    "ConnectionString": "${APPLICATIONINSIGHTS_CONNECTION_STRING}"
  },
  "PaymentGateway": {
    "DefaultProvider": "adyen",
    "Providers": [
      {
        "Name": "stripe",
        "BaseUrl": "https://api.stripe.com/v1",
        "SecretKey": "${STRIPE_SECRET_KEY}",
        "PublicKey": "${STRIPE_PUBLIC_KEY}",
        "TimeoutSeconds": 30
      },
      {
        "Name": "adyen",
        "BaseUrl": "https://checkout-test.adyen.com/v71",
        "ApiKey": "${ADYEN_API_KEY}",
        "MerchantAccount": "${ADYEN_MERCHANT_ACCOUNT}",
        "TimeoutSeconds": 30
      },
      {
        "Name": "nets",
        "BaseUrl": "https://api.dibspayment.eu/v1",
        "SecretKey": "${NETS_SECRET_KEY}",
        "TimeoutSeconds": 30
      },
      {
        "Name": "vipps",
        "BaseUrl": "https://api.vipps.no",
        "ClientId": "${VIPPS_CLIENT_ID}",
        "ClientSecret": "${VIPPS_CLIENT_SECRET}",
        "SubscriptionKey": "${VIPPS_SUBSCRIPTION_KEY}",
        "MerchantSerialNumber": "${VIPPS_MERCHANT_SERIAL_NUMBER}",
        "TimeoutSeconds": 30
      }
    ]
  },
  "CreditBureau": {
    "Bureaus": [
      {
        "Name": "experian",
        "BaseUrl": "https://api.experian.no/v1",
        "ApiKey": "${EXPERIAN_API_KEY}",
        "TimeoutSeconds": 30
      },
      {
        "Name": "bisnode",
        "BaseUrl": "https://api.bisnode.no/consumer-credit",
        "Username": "${BISNODE_USERNAME}",
        "ApiKey": "${BISNODE_API_KEY}",
        "TimeoutSeconds": 30
      },
      {
        "Name": "lindorff",
        "BaseUrl": "https://api.lindorff.no/credit",
        "ApiKey": "${LINDORFF_API_KEY}",
        "ClientId": "${LINDORFF_CLIENT_ID}",
        "TimeoutSeconds": 30
      }
    ],
    "FolkeregisterBaseUrl": "https://api.skatteetaten.no/api/folkeregister/v1",
    "FolkeregisterApiKey": "${FOLKEREGISTER_API_KEY}",
    "KonkursregisterBaseUrl": "https://api.brreg.no/konkursregister/v1",
    "KonkursregisterApiKey": "${KONKURSREGISTER_API_KEY}",
    "CreditHistoryBaseUrl": "https://api.creditinfo.no/v1",
    "CreditHistoryApiKey": "${CREDITINFO_API_KEY}"
  },
  "ExternalServices": {
    "RiskAssessmentApi": {
      "BaseUrl": "https://risk-api.yourcompany.com",
      "ApiKey": "${RISK_API_KEY}",
      "TimeoutSeconds": 30
    },
    "NotificationApi": {
      "BaseUrl": "https://notification-api.yourcompany.com",
      "ApiKey": "${NOTIFICATION_API_KEY}",
      "TimeoutSeconds": 10
    },
    "SettlementApi": {
      "BaseUrl": "https://settlement-api.yourcompany.com",
      "ApiKey": "${SETTLEMENT_API_KEY}",
      "TimeoutSeconds": 60
    }
  },
  "Azure": {
    "ServiceBus": {
      "ConnectionString": "${AZURE_SERVICEBUS_CONNECTION_STRING}",
      "TopicName": "payment-events"
    },
    "KeyVault": {
      "VaultUri": "${AZURE_KEYVAULT_URI}"
    },
    "Storage": {
      "ConnectionString": "${AZURE_STORAGE_CONNECTION_STRING}",
      "ContainerName": "payment-documents"
    }
  },
  "Redis": {
    "ConnectionString": "${REDIS_CONNECTION_STRING}",
    "Database": 0,
    "KeyPrefix": "yourcompany:payment:"
  },
  "MLModels": {
    "Path": "/app/models",
    "RetrainSchedule": "0 2 * * 0",
    "MinAccuracyThreshold": 0.85
  },
  "Monitoring": {
    "HealthChecks": {
      "Enabled": true,
      "DetailedErrors": false
    },
    "Metrics": {
      "Enabled": true,
      "ExportInterval": 60
    }
  },
  "Security": {
    "RequireHttps": true,
    "EnableCors": true,
    "AllowedOrigins": [
      "https://merchant.yourcompany.com",
      "https://consumer.yourcompany.com",
      "https://admin.yourcompany.com"
    ],
    "RateLimiting": {
      "Enabled": true,
      "RequestsPerMinute": 100,
      "RequestsPerHour": 1000
    }
  }
}